<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>find and remove the user</title>
</head>
<body>
    <div id='rootHandle'>


    </div>
    <script src="../js/react.development.js"></script>
    <script src="../js/react-dom.development.js"></script>
    <script src="../js/babel.js"></script>
    <script type="text/babel">

        class Users extends React.Component{
            constructor(){
                super()
                this.state = {
                    users :[
                        {id:1 , name:'Aashay'},
                        {id:2 , name:'Roshan'},
                        {id:3 , name:'Raghavan'},
                        {id:4 , name:'Saumya'},
                        {id:5 , name:'Yusuf'},
                    ],
                    enteredName:'',
                    resultDisplay:''
                }
                this.findUser = this.findUser.bind(this)
                this.userInput = this.userInput.bind(this)
                this.clearResult =this.clearResult.bind(this)
            }

            clearResult(){
                this.setState(prevState =>  prevState.resultDisplay='')
            }
            findUser(event){
                
                console.log('you Entered :',this.state.enteredName)
                var answer =this.state.users.find(user =>{
                    return user.name ==this.state.enteredName
                })
                
                if(answer){
                    console.log('user is found')
                    console.log('found :',answer)
                    console.log('found :',answer.name)
                    this.state.resultDisplay='User is found!'
                    this.setState( prevState => prevState.resultDisplay = this.state.resultDisplay)
                }
                else {
                    console.log("user is not found")
                    this.state.resultDisplay='User is not found!'
                    this.setState( prevState => prevState.resultDisplay = this.state.resultDisplay)
                    


                }
            }
            userInput(){
                this.setState({
                    enteredName : event.target.value

                })
                console.log(this.state.enteredName)

            }
            render(){
                return(
                    <div>
                        <h2>Users :</h2>
                        <ul>
                            {
                                this.state.users.map(user => <li key={user.id}>{user.name}</li>)
                            }
                        </ul>
                        <input type='text' onChange={this.userInput}/>
                        <button onClick={this.findUser}>Find Me</button>
                        <button onClick={this.clearResult}>Clear</button>
                        <h2>{this.state.resultDisplay}</h2>
                    </div>
                )
            }
        }
        ReactDOM.render(<Users/>,rootHandle)
    </script>
</body>
</html>